doctype html
html(lang="en")
	head
		meta(charset="UTF-8")
		meta(http-equiv="X-UA-Compatible", content="IE=edge")
		meta(name="viewport", content="width=device-width, initial-scale=1.0")
		title Login
		link(rel="stylesheet", href="/style/signup.css")
		link(rel="stylesheet", href="/style/navbar.css")
		link(rel="stylesheet", href="/style/footer.css")
		script(src="js/validator.js") 
	body
		include ../partials/navbar.pug
		.container
			form(action="/login", method="post")
				.form-control
					label(for="email") Email :
					input(type="email", name="email" id="email" required autofocus)
				.form-control
					label(for="password") Password :
					input(type="password", name="password" id="password" required)
				.err #{err}
				input.submit(type="submit", value="Login" class="btn")
		include ../partials/footer.pug
	script.
		const submit = document.querySelector("input[type='submit']");
		const email = document.querySelector("input[name='email']");
		email.addEventListener("focusout", () => {
			isValid = validator.isEmail(email.value.trim());
			if (isValid) {
				email.classList.remove("error");
				submit.classList.remove("disabled");
				submit.removeAttribute("disabled");
			}
			else {
				email.classList.add("error");
				submit.classList.add("disabled");
				submit.setAttribute("disabled", "disabled");
			}
		});